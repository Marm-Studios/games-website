(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function r(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(e){if(e.ep)return;e.ep=!0;const i=r(e);fetch(e.href,i)}})();const G={type:Phaser.AUTO,parent:"game-container",width:960,height:540,scale:{parent:"game-container",mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,zoom:1},physics:{default:"arcade",arcade:{gravity:{y:300},debug:!1}},scene:{preload:I,create:O,update:k}};new Phaser.Game(G);let t,x,l=[];const y="/gamebuilds/jumper/";function I(){this.load.image("background",`${y}/images/background/MainBackGround.png`),this.load.image("platform",`${y}/images/background/GrassPlatform.png`),this.load.spritesheet("player_idle",`${y}/images/player/idle-sheet.png`,{frameWidth:208,frameHeight:160}),this.load.spritesheet("player_jump",`${y}/images/player/jump-sheet.png`,{frameWidth:208,frameHeight:160})}function O(){this.add.image(480,270,"background").setScale(.645),this.physics.world.setBounds(0,0,800,600),x=this.physics.add.staticGroup();let b=[{x:125,y:475},{x:250,y:475},{x:375,y:475},{x:500,y:475},{x:625,y:475}],o=[2,3,0,1,4];b.forEach((r,s)=>{let e=x.create(r.x,r.y,"platform").setScale(.15);e.refreshBody(),e.jumpSteps=o[s],l.push(e),this.add.text(r.x,r.y,o[s],{fontSize:"52px",fill:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:4,align:"center"}).setOrigin(.5,.5)}),t=this.physics.add.sprite(125,375,"player_idle").setScale(.375),t.setCollideWorldBounds(!0),t.isJumping=!1,this.physics.add.collider(t,x,function(r,s){let e=l.findIndex(i=>i===s);r.currentPlatformIndex=e},null,this),this.anims.create({key:"idle",frames:this.anims.generateFrameNumbers("player_idle",{start:0,end:11}),frameRate:15,repeat:-1}),this.anims.create({key:"jump",frames:this.anims.generateFrameNumbers("player_jump",{start:0,end:1}),frameRate:5,repeat:-1}),this.trajectoryGraphics=this.add.graphics(),this.trajectoryGraphics.setDepth(0),t.setDepth(1),this.handleJump=function(r,s){var u;if(!t.body.touching.down||t.isJumping)return;let e=t.currentPlatformIndex;if(e===void 0)return;let i=typeof s<"u"?s:1,a=l[e].jumpSteps;if(Math.abs(r)>a){console.log("Jump too far! Allowed steps: "+a);return}let p=t.y,d=e+i*r;d=Phaser.Math.Clamp(d,0,l.length-1);let n=d-e;if(n===0)return;let c=l[d];t.isJumping=!0,((u=t.anims.currentAnim)==null?void 0:u.key)!=="jump"&&t.anims.play("jump",!0),t.flipX=n<0,this.tweens.add({targets:t,x:c.x,ease:"Quad.easeOut",duration:500,onUpdate:function(f,h){let m=f.progress,g=50*Math.abs(n);h.y=p-g*Math.sin(Math.PI*m)},onComplete:()=>{t.isJumping=!1,t.setTexture("player_idle"),t.anims.play("idle",!0)}})},this.input.on("pointerdown",function(r){this.swipeStart={x:r.x,y:r.y}},this),this.input.on("pointermove",function(r){if(!this.swipeStart)return;let s=r.x-this.swipeStart.x,e=s>=0?1:-1,i=Math.abs(s),a=Math.round(i/50),p=t.currentPlatformIndex;if(p===void 0)return;let d=l[p].jumpSteps;a=Phaser.Math.Clamp(a,0,d);let n=p+e*a;n=Phaser.Math.Clamp(n,0,l.length-1);let c=n-p;if(c===0){this.trajectoryGraphics.clear(),this.predictedStepsSigned=0;return}let u=l[n],f=t.x,h=t.y,m=u.x,g=50*Math.abs(c);this.trajectoryGraphics.clear(),this.trajectoryGraphics.lineStyle(3.5,0,1),this.trajectoryGraphics.beginPath(),this.trajectoryGraphics.moveTo(f,h);const j=20;for(let S=1;S<=j;S++){let P=S/j,w=Phaser.Math.Interpolation.Linear([f,m],P),M=h-g*Math.sin(Math.PI*P);this.trajectoryGraphics.lineTo(w,M)}this.trajectoryGraphics.strokePath(),this.trajectoryGraphics.fillStyle(0,1),this.trajectoryGraphics.fillCircle(m,h,10),this.predictedStepsSigned=c},this),this.input.on("pointerup",function(r){this.trajectoryGraphics.clear(),this.swipeStart&&(this.predictedStepsSigned&&this.predictedStepsSigned!==0&&this.handleJump(Math.abs(this.predictedStepsSigned),this.predictedStepsSigned>0?1:-1),this.swipeStart=null)},this)}function k(){t.body.touching.down&&t.setVelocityX(0),t.body.touching.down&&!t.isJumping&&(t.texture.key!=="player_idle"&&t.setTexture("player_idle"),t.anims.play("idle",!0))}
